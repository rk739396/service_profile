"use strict";const arforms_pro_controls=class{constructor(){this.arforms_init_pro_fields()}arforms_init_pro_fields(){void 0===this.slider_fields&&(this.slider_fields=[]),this.arforms_initialize_slider_control(),this.arforms_intiialize_password_strength_meter(),this.arforms_initialize_smiley_field(),this.arforms_initialize_wysiwyg_field()}arforms_is_form_visible(e){return null!=e&&void 0!==e&&""!=e&&0<jQuery(e).parents(".arfmodal:not(.arf_active)").length}arforms_initialize_wysiwyg_field(){var e=document.querySelectorAll(".arf_rich_text_editor");if(null!=e&&0<e.length)for(let t of e){var r=t.getAttribute("data-field-options");if(1!=this.arforms_is_form_visible(t)){try{jQuery(t).trumbowyg("destroy")}catch(e){console.log(" RICH TEXT EDITOR COULD NOT BE DESTROYED "),console.log(e),jQuery(t).parents(".controls").find('div[class^="trumbowyg"]:not(.trumbowyg-box)').remove(),jQuery(t).parents(".controls").find("textarea.arf_rich_text_editor").unwrap(".trumbowyg-box"),jQuery(t).parents(".controls").find("textarea.arf_rich_text_editor").removeClass("trumbowyg-textarea")}r=JSON.parse(r);let e={svgPath:t.getAttribute("data-svg-path"),btns:[["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"]]};1!=r.arf_enable_readonly?e.btns.push(["fullscreen"]):e.disable=!0,!function(e,r){setTimeout(function(){jQuery(t).parents(".controls").find('div[class^="trumbowyg"]:not(.trumbowyg-box)').remove(),jQuery(t).parents(".controls").find("textarea.arf_rich_text_editor").unwrap(".trumbowyg-box"),jQuery(t).parents(".controls").find("textarea.arf_rich_text_editor").removeClass("trumbowyg-textarea"),jQuery(e).trumbowyg(r).on("tbwinit",function(){null!=this.getAttribute("disabled")&&this.removeAttribute("disabled")}).on("tbwopenfullscreen",function(){jQuery(this).parents(".arf_field_type_arf_wysiwyg").addClass("arf_wysiwyg_fullscreen")}).on("tbwclosefullscreen",function(){jQuery(this).parents(".arf_field_type_arf_wysiwyg").removeClass("arf_wysiwyg_fullscreen")})},100)}(t,e)}}}arforms_initialize_slider_control(){var e=document.querySelectorAll(".arf_slider_field_control");if(null!=e&&0<e.length)for(var n of e)if(1!=this.arforms_is_form_visible(n)){var l=n.getAttribute("data-field-options");let i=JSON.parse(l),o=n.getAttribute("data-field-key"),s=n.getAttribute("data-form-data-id"),e=document.getElementById(`arf_frontslider_field_${o}_slide_`+s),a=document.getElementById(`field_${o}_slide_`+s),r={connect:"lower",start:parseFloat(i.slider_value),step:parseFloat(i.slider_step),tooltips:[wNumb({decimals:1})],range:{min:parseFloat(i.minnum),max:parseFloat(i.maxnum)}},t=i.slider_step.toString();-1==t.indexOf(".")&&(r.tooltips=[wNumb({decimals:0})]);l=void 0!==i.arf_range_minnum&&""!=i.arf_range_minnum?i.arf_range_minnum:i.minnum,n=void 0!==i.arf_range_maxnum&&""!=i.arf_range_maxnum?i.arf_range_maxnum:i.maxnum;"1"==i.arf_range_selector&&(r.start=[l,n],r.tooltips=[wNumb({decimals:1}),wNumb({decimals:1})],r.connect=!0,-1==i.slider_step.toString().indexOf(".")&&(r.tooltips=[wNumb({decimals:0}),wNumb({decimals:0})]));try{if(void 0!==this.slider_fields&&0<this.slider_fields.length)for(var _ of this.slider_fields)jQuery(".noUi-base ").remove(),void 0!==_.noUiSlider&&_.noUiSlider.destroy()}catch(e){}setTimeout(function(){noUiSlider.create(e,r),arforms_pro_controls_obj.slider_fields.push(e),e.noUiSlider.on("update",function(e,r){var t;"1"==i.arf_range_selector?(t=Math.round(e[0])+","+Math.round(e[1]),jQuery(`#field_${o}_`+s).val(t).trigger("change")):!(t=a.innerHTML=Math.round(e[r]))&&"0"!=t||jQuery(`#field_${o}_`+s).val(t).trigger("change")})},100)}}arforms_intiialize_password_strength_meter(){var e=document.querySelectorAll(".arf_strenth_mtr");if(null!=e&&0<e.length)for(var r of e){let e=r.getAttribute("data-field-id");jQuery("#field_"+e).on("keyup",function(){"function"==typeof arf_password_meter&&arf_password_meter(e)})}}arforms_initialize_smiley_field(){var e=document.querySelectorAll(".arf_smiley_btn");if(null!=e&&0<e.length)for(var r of e){var t=r.getAttribute("data-title");void 0!==t&&jQuery(r).arf_popover({html:!0,trigger:"hover",placement:"top",content:t,title:"",animation:!1})}}},arforms_pro_controls_obj=new arforms_pro_controls;